generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("MONGO_URI")
}

enum Gender {
  MALE
  FEMALE
  OTHER
}

enum BodyType {
  ECTOMORPH
  MESOMORPH
  ENDOMORPH
}

enum DreamBodyShape {
  ATHLETIC
  BALANCED
  STRONG
}

enum Goal {
  GAIN_MUSCLE
  LOSE_WEIGHT
}

enum FocusArea {
  VISIBLE_ABS
  DEFINED_CHEST
  BIG_ARMS
  BROAD_SHOULDER
  WIDE_BACK
  STRONG_LEGS
}

model User {
  id          String       @id @default(auto()) @map("_id") @db.ObjectId
  firebaseUid String       @unique
  email       String       @unique
  profile     UserProfile?
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
}

model UserProfile {
  id             String         @id @default(auto()) @map("_id") @db.ObjectId
  name           String
  gender         Gender
  age            Int
  height         Float
  currentWeight  Float
  targetWeight   Float
  bodyType       BodyType
  dreamBodyShape DreamBodyShape
  goal           Goal
  focusOn        FocusArea[]
  userId         String         @unique @db.ObjectId
  user           User           @relation(fields: [userId], references: [id])
  createdAt      DateTime       @default(now())
  updatedAt      DateTime       @updatedAt
}
